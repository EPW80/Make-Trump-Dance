<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Pygame on Web</title>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.0/full/pyodide.js"></script>
</head>

<body>
    <script type="text/javascript">
        window.addEventListener("load", async function () {
            await loadPyodide({
                indexURL: "https://cdn.jsdelivr.net/pyodide/v0.23.0/full/"
            });
            pyodide.runPython(`
          import micropip
          micropip.install('pygame')
        `);
            // Load your Python code here
            pyodid.runPython(`
            from js import XMLHttpRequest, window
            
            def load_code(url):
                req = XMLHttpRequest.new()
                req.open("GET", url, False)
                req.send(None)
                return req.responseText

            game_code = load_code('videogame/game.py')
            exec(game_code)
            `)

        });
    </script>
</body>

</html>
